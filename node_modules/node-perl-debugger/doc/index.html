<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>node-perl-debugger</h1><p>An interface to allow Node programs to debug Perl scripts.</p>
<p>This module uses the Perl debugger's remote capabilities to debug a Perl program.</p>
<h1>Caveats</h1><p>This has only been tested on perl 5.16.3  If the debugger changes the way data is printed between Perl versions,
this module may not work correctly.</p>
<h1>Usage</h1><pre class="prettyprint source"><code>$ npm install</code></pre><p>To run the tests:</p>
<pre class="prettyprint source"><code>$ grunt</code></pre><p>To generate the API doc:</p>
<pre class="prettyprint source"><code>$ grunt doc</code></pre><h2>Starting a Debugger Host</h2><p>An example of how to use the module is in the <code>test/perl</code> folder.</p>
<p>To start a host for the Perl debugger to connect to, use the <code>DebuggerHost</code> class.  Once a host is <code>listening</code> a Perl
process can be connected using the <code>PERLDB_OPTS</code> env variable eg:</p>
<pre class="prettyprint source"><code>$ pwd
~/node-perl-debugger/test/perl

$ PERLDB_OPTS=RemotePort=localhost:12345 perl -d test.pl</code></pre><h2>Using the commands interface</h2><p>The <code>DebuggerCommands</code> class can be used to issue commands to the debugger.  It uses an instance of <code>DebuggerParser</code> to
understand output from the debugger.</p>
<p>Clients should wait for the <code>ready</code> event before issuing commands.</p>
<p>The commands utilise <a href="http://www.html5rocks.com/en/tutorials/es6/promises/">Javascript</a> <a href="https://github.com/kriskowal/q">Promises</a>
to coordinate the sending, and receiving of data with the debugger.  While clients can listen for events emitted after
commands have been issued, in practise any event emitted will also be processed in order to settle a Promise returned
from a command function.</p>
<p>For example, the <code>break</code> event is used to resolve the Promise returned from the <code>continue()</code> function since the
Perl programming is continuing it's execution until a breakpoint is hit (assuming one has been set).</p>
<p>See the API docs, and the example test Perl program to see the commands in action.</p>
<h1>Example</h1><p>This example is used to debug the test Perl program in the <code>test/perl</code> program</p>
<pre class="prettyprint source lang-javascript"><code>&quot;use strict&quot;;

var DebuggerHost = require(&quot;node-perl-debugger&quot;).DebuggerHost;

var debug = new DebuggerHost({
  log: process.stdout,
  port: 12345
});

debug.on(&quot;disconnection&quot;, function() {
  debug.close();
});

debug.on(&quot;close&quot;, function() {
  console.log(&quot;Finished&quot;);
});

debug.listen();

var commands = debug.commands();

commands.on(&quot;ready&quot;, function() {
  commands.break(&quot;Calculator.pm&quot;, 10)
      .then(function() {
        return commands.break(&quot;test.pl&quot;, 45);
      })
      .then(function() {
        return commands.continue();
      })
      .then(function() {
        return commands.stacktrace();
      })
      .then(log)
      .then(function() {
        return commands.continue();
      })
      .then(function() {
        return commands.variables();
      })
      .then(log)
      .then(function() {
        return commands.quit();
      })
      .catch(console.error);
});

function log(json) {
  console.log(JSON.stringify(json, null, 2));
}</code></pre></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="DebuggerCommands.html">DebuggerCommands</a></li><li><a href="DebuggerHost.html">DebuggerHost</a></li><li><a href="DebuggerParser.html">DebuggerParser</a></li><li><a href="DebuggerStackTraceParser.html">DebuggerStackTraceParser</a></li><li><a href="DebuggerVariableParser.html">DebuggerVariableParser</a></li><li><a href="Parser.html">Parser</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a> on Wed Aug 19 2015 23:31:27 GMT+1000 (AEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>